import{U as A,r as m,o as S,l as n,m as g,n as o,p as r,f as e,Q as c,aL as I,ae as h,R as v,aF as N,F as B,S as y,aK as H,ay as b,t as P,u as U}from"./index.8ad7176f.js";import{Q as x,a as u}from"./QCard.93c1c255.js";import{Q as $}from"./QInput.a7de4db3.js";import{Q as D,C as Q}from"./ClosePopup.939b3330.js";import{Q as E}from"./QDialog.342388c1.js";import{Q as F}from"./QSeparator.ddcfa8c8.js";import{Q as K}from"./QImg.1d917fdb.js";import{Q as L}from"./QPage.bbe672aa.js";import{a as z,b as M}from"./userService.9744e47e.js";import{H as w}from"./loaderUtils.b57ef548.js";import{u as R}from"./notificationUtils.74098a83.js";import{_ as j}from"./plugin-vue_export-helper.21dcd24c.js";import"./use-dark.186307de.js";import"./focus-manager.40072c15.js";import"./focusout.a44336c0.js";import"./use-timeout.24e0f3c2.js";const C=l=>(P("data-v-50bb77a2"),l=l(),U(),l),T={class:"row items-center justify-between q-mt-md q-mb-md q-mx-md"},G=C(()=>r("div",{class:"text-h5"},"Meus \xE1lbums",-1)),J=C(()=>r("div",{class:"text-h6 text-primary"}," C\xF3digo do \xE1lbum compartilhado ",-1)),O={class:"row q-gutter-md section-card",flat:"",bordered:""},W={class:"q-pa-md flex flex-center full-width full-height"},X={key:0,class:"q-pa-md flex flex-center full-width full-height"},Y={class:"text-h5 q-mt-sm q-mb-xs"},Z={class:"text-subtitle1 q-mb-sm"},ee={__name:"HomePage",setup(l){const p=A(),{showErrorNotification:f}=R(),_=m({}),i=m(!1),d=m("");S(()=>{q()});const q=async()=>{try{w.show("Aguarde... Estamos carregando seus \xE1lbuns...");const{items:s}=await z();_.value=s}catch(s){f(s.message)}finally{w.hide()}},k=async()=>{try{await M(d.value)&&p.go()}catch(s){f(s.message)}},V=async(s,a)=>{p.push(`album/${s}/${a}`)};return(s,a)=>(n(),g(L,{class:"q-pa-lg"},{default:o(()=>[r("div",T,[G,r("div",null,[e(c,{rounded:"",label:"Novo",color:"primary",icon:"library_add",class:"button",onClick:a[0]||(a[0]=t=>i.value=!0)}),e(E,{modelValue:i.value,"onUpdate:modelValue":a[3]||(a[3]=t=>i.value=t),persistent:""},{default:o(()=>[e(x,{style:{"min-width":"350px"}},{default:o(()=>[e(u,null,{default:o(()=>[J]),_:1}),e(u,{class:"q-pt-none"},{default:o(()=>[e($,{dense:"",modelValue:d.value,"onUpdate:modelValue":a[1]||(a[1]=t=>d.value=t),autofocus:"",onKeyup:a[2]||(a[2]=I(t=>i.value=!1,["enter"]))},null,8,["modelValue"])]),_:1}),e(D,{align:"right",class:"text-primary"},{default:o(()=>[h(e(c,{flat:"",label:"Cancelar"},null,512),[[Q]]),h(e(c,{flat:"",label:"Adicionar \xE1lbum!",onClick:k},null,512),[[Q]])]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),e(F,{class:"q-my-md q-mx-md"}),r("div",O,[(n(!0),v(B,null,N(_.value,t=>(n(),g(x,{key:t.id,class:"col-12 col-md-2 rounded-card",flat:"",bordered:"",onClick:te=>V(t.id,t.title)},{default:o(()=>[e(K,{src:t.imageUrl},{error:o(()=>[r("div",W,[e(y,{name:"warning",size:"64px",color:"grey-4"})])]),default:o(()=>[t.imageUrl?H("",!0):(n(),v("div",X,[e(y,{name:"no_photography",size:"64px",color:"grey-4"})]))]),_:2},1032,["src"]),e(u,null,{default:o(()=>[r("div",Y,b(t.title),1),r("div",Z,b(t.description),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))])]),_:1}))}};var ve=j(ee,[["__scopeId","data-v-50bb77a2"]]);export{ve as default};
