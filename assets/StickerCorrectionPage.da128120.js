import{r as g,ad as se,c as i,h as C,C as ne,D as ee,ac as ie,g as ue,a1 as z,ae as V,v as te,V as $,W as ce,o as de,k as w,U as j,f as a,m as s,F as E,n as u,Q,aF as me,t as p,af as ve,l as H,R as N,aK as K,p as fe,q as pe}from"./index.52d40142.js";import{Q as ge}from"./QSeparator.d9ffe609.js";import{a as _e,u as be}from"./use-dark.dedc0025.js";import{u as he,o as ke}from"./option-sizes.64422128.js";import{u as xe,b as Ce}from"./private.use-form.a678be1c.js";import{Q as M,a as D}from"./QCard.cd05951b.js";import{Q as W}from"./QImg.75a82f00.js";import{Q as Se,a as G,b as P}from"./QList.f66e24d0.js";import{Q as ye}from"./QPage.f6a42d50.js";import{Q as Ve}from"./QCardActions.f7787695.js";import{Q as J}from"./QDialog.9307049f.js";import{C as qe}from"./ClosePopup.3a327ca2.js";import{g as Ie,u as X}from"./userService.c8e8de73.js";import{g as we}from"./routeHelpers.4bee43a6.js";import{H as Y}from"./loaderUtils.ac16fcb4.js";import{u as Qe}from"./notificationUtils.2e2e3ea9.js";import{_ as De}from"./plugin-vue_export-helper.21dcd24c.js";import"./use-timeout.376f2a07.js";import"./focusout.f3b82708.js";import"./focus-manager.40072c15.js";const $e={...be,...ie,...xe,modelValue:{required:!0,default:null},val:{},trueValue:{default:!0},falseValue:{default:!1},indeterminateValue:{default:null},checkedIcon:String,uncheckedIcon:String,indeterminateIcon:String,toggleOrder:{type:String,validator:l=>l==="tf"||l==="ft"},toggleIndeterminate:Boolean,label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},Ae=["update:modelValue"];function Te(l,_){const{props:e,slots:v,emit:c,proxy:m}=ue(),{$q:A}=m,S=_e(e,A),T=g(null),{refocusTargetEl:q,refocusTarget:I}=he(e,T),B=se(e,ke),f=i(()=>e.val!==void 0&&Array.isArray(e.modelValue)),b=i(()=>{const o=V(e.val);return f.value===!0?e.modelValue.findIndex(x=>V(x)===o):-1}),d=i(()=>f.value===!0?b.value!==-1:V(e.modelValue)===V(e.trueValue)),y=i(()=>f.value===!0?b.value===-1:V(e.modelValue)===V(e.falseValue)),F=i(()=>d.value===!1&&y.value===!1),L=i(()=>e.disable===!0?-1:e.tabindex||0),R=i(()=>`q-${l} cursor-pointer no-outline row inline no-wrap items-center`+(e.disable===!0?" disabled":"")+(S.value===!0?` q-${l}--dark`:"")+(e.dense===!0?` q-${l}--dense`:"")+(e.leftLabel===!0?" reverse":"")),n=i(()=>{const o=d.value===!0?"truthy":y.value===!0?"falsy":"indet",x=e.color!==void 0&&(e.keepColor===!0||(l==="toggle"?d.value===!0:y.value!==!0))?` text-${e.color}`:"";return`q-${l}__inner relative-position non-selectable q-${l}__inner--${o}${x}`}),r=i(()=>{const o={type:"checkbox"};return e.name!==void 0&&Object.assign(o,{".checked":d.value,"^checked":d.value===!0?"checked":void 0,name:e.name,value:f.value===!0?e.val:e.trueValue}),o}),t=Ce(r),h=i(()=>{const o={tabindex:L.value,role:l==="toggle"?"switch":"checkbox","aria-label":e.label,"aria-checked":F.value===!0?"mixed":d.value===!0?"true":"false"};return e.disable===!0&&(o["aria-disabled"]="true"),o});function k(o){o!==void 0&&(z(o),I(o)),e.disable!==!0&&c("update:modelValue",ae(),o)}function ae(){if(f.value===!0){if(d.value===!0){const o=e.modelValue.slice();return o.splice(b.value,1),o}return e.modelValue.concat([e.val])}if(d.value===!0){if(e.toggleOrder!=="ft"||e.toggleIndeterminate===!1)return e.falseValue}else if(y.value===!0){if(e.toggleOrder==="ft"||e.toggleIndeterminate===!1)return e.trueValue}else return e.toggleOrder!=="ft"?e.trueValue:e.falseValue;return e.indeterminateValue}function le(o){(o.keyCode===13||o.keyCode===32)&&z(o)}function oe(o){(o.keyCode===13||o.keyCode===32)&&k(o)}const re=_(d,F);return Object.assign(m,{toggle:k}),()=>{const o=re();e.disable!==!0&&t(o,"unshift",` q-${l}__native absolute q-ma-none q-pa-none`);const x=[C("div",{class:n.value,style:B.value,"aria-hidden":"true"},o)];q.value!==null&&x.push(q.value);const U=e.label!==void 0?ne(v.default,[e.label]):ee(v.default);return U!==void 0&&x.push(C("div",{class:`q-${l}__label q-anchor--skip`},U)),C("div",{ref:T,class:R.value,...h.value,onClick:k,onKeydown:le,onKeyup:oe},x)}}var Be=te({name:"QToggle",props:{...$e,icon:String,iconColor:String},emits:Ae,setup(l){function _(e,v){const c=i(()=>(e.value===!0?l.checkedIcon:v.value===!0?l.indeterminateIcon:l.uncheckedIcon)||l.icon),m=i(()=>e.value===!0?l.iconColor:null);return()=>[C("div",{class:"q-toggle__track"}),C("div",{class:"q-toggle__thumb absolute flex flex-center no-wrap"},c.value!==void 0?[C($,{name:c.value,color:m.value})]:void 0)]}return Te("toggle",_)}}),O=te({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(l,{slots:_}){const e=i(()=>parseInt(l.lines,10)),v=i(()=>"q-item__label"+(l.overline===!0?" q-item__label--overline text-overline":"")+(l.caption===!0?" q-item__label--caption text-caption":"")+(l.header===!0?" q-item__label--header":"")+(e.value===1?" ellipsis":"")),c=i(()=>l.lines!==void 0&&e.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":e.value}:null);return()=>C("div",{style:c.value,class:v.value},ee(_.default))}});const Fe=l=>(fe("data-v-16415c11"),l=l(),pe(),l),Ne={class:"row items-center justify-between q-mt-md q-mb-md q-mx-md"},Pe=Fe(()=>u("div",{class:"text-h5"},"Corre\xE7\xF5es",-1)),Le={class:"q-my-md q-mx-md"},Re={class:"row q-gutter-md section-card",flat:"",bordered:""},je={class:"text-h5 q-mt-sm q-mb-xs"},Oe={class:"text-h6 q-mt-sm q-mb-xs"},Ue={class:"text-caption"},ze={key:0},Ee={class:"q-pa-md flex flex-center full-width full-height"},He={class:"row q-gutter-sm"},Ke={class:"text-h6"},Z=30,Me={__name:"StickerCorrectionPage",setup(l){const _=ce(),{showSuccessNotification:e,showErrorNotification:v}=Qe(),c=g({}),m=g(!1),A=g(!1),S=g(!1);de(()=>{q(S.value)});const T=()=>{_.push(we("inicio"))},q=async n=>{try{Y.show("Aguarde... Carregando...");const r=await Ie(n);r&&(c.value=r.data)}catch(r){v(r.message)}finally{Y.hide()}},I=g(!1),B=g(""),f=g(""),b=n=>n.length>Z,d=n=>b(n)?n.substring(0,Z):n,y=(n,r)=>{B.value=n,f.value=r,I.value=!0},F=async(n,r)=>{const t="Aprovada";await X(n,t)&&(e("Voc\xEA aprovou a figurinha!"),c.value[r].status=t)},L=async(n,r)=>{const t="Reprovada";await X(n,t)&&(e("Voc\xEA reprovou a figurinha!"),c.value[r].status=t)},R=n=>{A.value=n,m.value=!0};return(n,r)=>(w(),j(E,null,[a(ye,{class:"q-pa-lg"},{default:s(()=>[u("div",Ne,[Pe,u("div",null,[a(Q,{rounded:"",color:"primary",class:"button",icon:"home",label:"In\xEDcio",onClick:T})])]),a(ge,{class:"q-my-md q-mx-md"}),u("div",Le,[a(Be,{modelValue:S.value,"onUpdate:modelValue":[r[0]||(r[0]=t=>S.value=t),r[1]||(r[1]=t=>q(S.value))],"checked-icon":"check",color:"green",label:"Lista todas (inclusive corrigidas)","unchecked-icon":"clear"},null,8,["modelValue"])]),u("div",Re,[(w(!0),j(E,null,me(c.value,(t,h)=>(w(),H(M,{key:h,class:"col-12 col-md-2 rounded-card",flat:"",bordered:""},{default:s(()=>[a(D,null,{default:s(()=>[u("div",je,p(t.albumTitle),1),u("div",Oe,p(t.stickerTitle),1),u("div",Ue,[N(p(d(t.stickerDescription))+" ",1),b(t.stickerDescription)?(w(),j("span",ze,"...")):K("",!0),b(t.stickerDescription)?(w(),H(Q,{key:1,flat:"",dense:"",color:"primary",class:"text-caption",label:"Ver mais",onClick:k=>y(t.stickerDescription,t.stickerTitle)},null,8,["onClick"])):K("",!0)])]),_:2},1024),a(D,{style:{height:"380px",display:"flex","align-items":"center","justify-content":"center"}},{default:s(()=>[a(W,{src:t.imageUrl,style:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain"},onClick:k=>R(t.imageUrl)},{error:s(()=>[u("div",Ee,[a($,{name:"camera",color:"grey-4"})])]),_:2},1032,["src","onClick"])]),_:2},1024),a(Se,null,{default:s(()=>[a(G,null,{default:s(()=>[a(P,{avatar:""},{default:s(()=>[a($,{color:"grey",name:"person"})]),_:1}),a(P,null,{default:s(()=>[a(O,{style:{"font-weight":"bold"}},{default:s(()=>[N(p(t.userFirstName),1)]),_:2},1024),a(O,{caption:""},{default:s(()=>[N("("+p(t.userName)+")",1)]),_:2},1024)]),_:2},1024)]),_:2},1024),a(G,null,{default:s(()=>[a(P,{avatar:""},{default:s(()=>[a($,{color:"grey",name:"rule"})]),_:1}),a(P,null,{default:s(()=>[a(O,{style:{"font-weight":"bold"}},{default:s(()=>[N(p(t.status),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024),a(D,null,{default:s(()=>[u("div",He,[a(Q,{class:"col",rounded:"",color:"primary",label:"Aprovar",icon:"check",disable:t.status==="Aprovada",onClick:k=>F(t.userStickerId,h)},null,8,["disable","onClick"]),a(Q,{class:"col",rounded:"",color:"negative",label:"Reprovar",icon:"close",disable:t.status==="Reprovada",onClick:k=>L(t.userStickerId,h)},null,8,["disable","onClick"])])]),_:2},1024)]),_:2},1024))),128))])]),_:1}),a(J,{modelValue:I.value,"onUpdate:modelValue":r[2]||(r[2]=t=>I.value=t),persistent:""},{default:s(()=>[a(M,null,{default:s(()=>[a(D,null,{default:s(()=>[u("div",Ke,p(f.value),1)]),_:1}),a(D,null,{default:s(()=>[u("div",null,p(B.value),1)]),_:1}),a(Ve,{align:"right"},{default:s(()=>[ve(a(Q,{flat:"",label:"Fechar",color:"primary"},null,512),[[qe]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(J,{modelValue:m.value,"onUpdate:modelValue":r[4]||(r[4]=t=>m.value=t)},{default:s(()=>[a(W,{src:A.value,style:{width:"100%",height:"auto"}},null,8,["src"]),a($,{name:"close",size:"md",color:"white",class:"dialog-close-icon",onClick:r[3]||(r[3]=t=>m.value=!1)})]),_:1},8,["modelValue"])],64))}};var ft=De(Me,[["__scopeId","data-v-16415c11"]]);export{ft as default};
