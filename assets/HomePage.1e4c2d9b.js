import{U as N,r as d,o as B,k as p,l as h,m as t,n as r,f as e,Q as i,R as D,aB as I,F as P,au as g,aC as $,S as E,p as H,q as T}from"./index.129f0960.js";import{Q as U}from"./QSeparator.85e6c696.js";import{Q as b,a as f}from"./QCard.e906fb3c.js";import{Q as F}from"./QSpace.dbc53322.js";import{Q as L}from"./QInput.6bfa0164.js";import{Q as M}from"./QDialog.0c1997a9.js";import{Q as R,C as j}from"./ClosePopup.d91d73e6.js";import{Q as z}from"./QPage.9c84b3ad.js";import{a as G,s as J}from"./userService.9bb42508.js";import{H as C}from"./loaderUtils.9e791bfa.js";import{u as K}from"./notificationUtils.f93b8597.js";import{_ as O}from"./plugin-vue_export-helper.21dcd24c.js";import"./use-dark.ab9d8e94.js";import"./focus-manager.40072c15.js";import"./use-timeout.26691309.js";import"./focusout.3dd22609.js";const y=n=>(H("data-v-58da97ec"),n=n(),T(),n),W={class:"row items-center justify-between q-mt-md q-mb-md q-mx-md"},X=y(()=>r("div",{class:"text-h5"},"Meus \xE1lbums",-1)),Y={class:"q-mx-md"},Z={class:"text-h6"},oo={class:"text-subtitle1 q-mb-sm"},eo=y(()=>r("div",{class:"text-h6"},"Pronto! Compartilhe o c\xF3digo abaixo.",-1)),ao={__name:"HomePage",setup(n){const m=N(),{showSuccessNotification:Q,showErrorNotification:_}=K(),v=d({}),c=d(""),q=d(!1),u=d(!1);B(()=>{x()});const x=async()=>{try{C.show("Aguarde... Estamos carregando seus \xE1lbuns...");const{items:a}=await G();v.value=a}catch(a){_(a.message)}finally{C.hide()}},w=()=>{m.push("corrigir")},k=()=>{m.push("album/")},S=a=>{m.push(`album/${a}`)},A=async a=>{try{const o=await J(a);o&&(u.value=!0,c.value=o.data.shareCode,q.value=!0)}catch{}},V=a=>{navigator.clipboard.writeText(a).then(()=>{Q("C\xF3digo de compartilhamento copiado para a \xE1rea de transfer\xEAncia :)")}).catch(o=>{_("Desculpe, n\xE3o foi poss\xEDvel copiar o c\xF3digo de compartilhamento para a \xE1rea de transfer\xEAncia :(")})};return(a,o)=>(p(),h(z,{class:"q-pa-lg"},{default:t(()=>[r("div",W,[X,r("div",null,[e(i,{rounded:"",label:"Corrigir",color:"primary",class:"q-ml-sm q-mt-sm button",icon:"rule",onClick:o[0]||(o[0]=s=>w())}),e(i,{rounded:"",label:"Novo",color:"primary",class:"q-ml-sm q-mt-sm button",icon:"add_circle",onClick:o[1]||(o[1]=s=>k())})])]),e(U,{class:"q-my-md q-mx-md"}),r("div",Y,[(p(!0),D(P,null,I(v.value,s=>(p(),h(b,{key:s.id,class:"q-mb-md rounded-card",flat:"",bordered:""},{default:t(()=>[e(f,null,{default:t(()=>[r("div",Z,g(s.title),1),r("div",oo,g(s.description),1)]),_:2},1024),e(R,{align:"right"},{default:t(()=>[e(i,{icon:"edit",label:"Editar",color:"primary",flat:"",onClick:l=>S(s.id)},null,8,["onClick"]),e(i,{icon:"share",label:"Compartilhar",color:"primary",flat:"",onClick:l=>A(s.id)},null,8,["onClick"]),e(M,{modelValue:u.value,"onUpdate:modelValue":o[4]||(o[4]=l=>u.value=l)},{default:t(()=>[e(b,null,{default:t(()=>[e(f,{class:"row items-center q-pb-none"},{default:t(()=>[eo,e(F),$(e(i,{icon:"close",flat:"",round:""},null,512),[[j]])]),_:1}),e(f,null,{default:t(()=>[e(L,{modelValue:c.value,"onUpdate:modelValue":o[3]||(o[3]=l=>c.value=l),class:"q-mb-md",style:{"font-size":"25px"},square:"",outlined:"",readonly:""},{append:t(()=>[e(E,{name:"content_copy",class:"cursor-pointer",onClick:o[2]||(o[2]=l=>V(c.value))})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:2},1024)]),_:2},1024))),128))])]),_:1}))}};var Co=O(ao,[["__scopeId","data-v-58da97ec"]]);export{Co as default};
