import{r as _,c,h as d,v as I,ac as A,ad as E,V as U,C as M,D as j,g as T,a1 as D,ae as N,W as $,X as Y,k as F,l as O,m as r,f as l,Y as K,n as V,Q as k,af as L}from"./index.f6f9de23.js";import{u as W,a as X}from"./use-dark.101dc898.js";import{u as G,a as H,Q as p}from"./QInput.cbb2603c.js";import{Q as J,a as Z,_ as ee}from"./PasswordConfirmation.ba541a1f.js";import{a as x,Q as P}from"./QCard.8843ea6f.js";import{Q as ae}from"./QCardActions.91730c4a.js";import{Q as le}from"./QDialog.7ed19c9a.js";import{Q as oe}from"./QForm.7976e0a8.js";import{Q as te}from"./QPage.db8cf4c8.js";import{C as ne}from"./ClosePopup.5f5aaad3.js";import{u as ue}from"./notificationUtils.9118f924.js";import"./focus-manager.40072c15.js";import"./QMenu.6a962707.js";import"./focusout.2ff2abc3.js";import"./use-timeout.217898b4.js";function se(e,f){const m=_(null),v=c(()=>e.disable===!0?null:d("span",{ref:m,class:"no-outline",tabindex:-1}));function b(a){const s=f.value;a!==void 0&&a.type.indexOf("key")===0?s!==null&&document.activeElement!==s&&s.contains(document.activeElement)===!0&&s.focus():m.value!==null&&(a===void 0||s!==null&&s.contains(a.target)===!0)&&m.value.focus()}return{refocusTargetEl:v,refocusTarget:b}}var re={xs:30,sm:35,md:40,lg:50,xl:60};const ie=d("svg",{key:"svg",class:"q-radio__bg absolute non-selectable",viewBox:"0 0 24 24"},[d("path",{d:"M12,22a10,10 0 0 1 -10,-10a10,10 0 0 1 10,-10a10,10 0 0 1 10,10a10,10 0 0 1 -10,10m0,-22a12,12 0 0 0 -12,12a12,12 0 0 0 12,12a12,12 0 0 0 12,-12a12,12 0 0 0 -12,-12"}),d("path",{class:"q-radio__check",d:"M12,6a6,6 0 0 0 -6,6a6,6 0 0 0 6,6a6,6 0 0 0 6,-6a6,6 0 0 0 -6,-6"})]);var R=I({name:"QRadio",props:{...W,...A,...G,modelValue:{required:!0},val:{required:!0},label:String,leftLabel:Boolean,checkedIcon:String,uncheckedIcon:String,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},emits:["update:modelValue"],setup(e,{slots:f,emit:m}){const{proxy:v}=T(),b=X(e,v.$q),a=E(e,re),s=_(null),{refocusTargetEl:g,refocusTarget:q}=se(e,s),i=c(()=>N(e.modelValue)===N(e.val)),C=c(()=>"q-radio cursor-pointer no-outline row inline no-wrap items-center"+(e.disable===!0?" disabled":"")+(b.value===!0?" q-radio--dark":"")+(e.dense===!0?" q-radio--dense":"")+(e.leftLabel===!0?" reverse":"")),h=c(()=>{const n=e.color!==void 0&&(e.keepColor===!0||i.value===!0)?` text-${e.color}`:"";return`q-radio__inner relative-position q-radio__inner--${i.value===!0?"truthy":"falsy"}${n}`}),y=c(()=>(i.value===!0?e.checkedIcon:e.uncheckedIcon)||null),u=c(()=>e.disable===!0?-1:e.tabindex||0),o=c(()=>{const n={type:"radio"};return e.name!==void 0&&Object.assign(n,{".checked":i.value===!0,"^checked":i.value===!0?"checked":void 0,name:e.name,value:e.val}),n}),t=H(o);function S(n){n!==void 0&&(D(n),q(n)),e.disable!==!0&&i.value!==!0&&m("update:modelValue",e.val,n)}function z(n){(n.keyCode===13||n.keyCode===32)&&D(n)}function B(n){(n.keyCode===13||n.keyCode===32)&&S(n)}return Object.assign(v,{set:S}),()=>{const n=y.value!==null?[d("div",{key:"icon",class:"q-radio__icon-container absolute-full flex flex-center no-wrap"},[d(U,{class:"q-radio__icon",name:y.value})])]:[ie];e.disable!==!0&&t(n,"unshift"," q-radio__native q-ma-none q-pa-none");const Q=[d("div",{class:h.value,style:a.value,"aria-hidden":"true"},n)];g.value!==null&&Q.push(g.value);const w=e.label!==void 0?M(f.default,[e.label]):j(f.default);return w!==void 0&&Q.push(d("div",{class:"q-radio__label q-anchor--skip"},w)),d("div",{ref:s,class:C.value,tabindex:u.value,role:"radio","aria-label":e.label,"aria-checked":i.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:S,onKeydown:z,onKeyup:B},Q)}}});const de={class:"row justify-center"},me={class:"row justify-end"},ce=V("div",{class:"text-h6"},"Confirma\xE7\xE3o de Cria\xE7\xE3o de Conta",-1),fe=V("p",null," Ao criar a conta, voc\xEA est\xE1 ciente de que a ferramenta est\xE1 em fase de valida\xE7\xE3o como MVP e podem ocorrer instabilidades. ",-1),ve=V("p",null," Recomendamos salvar sua senha em um local seguro, pois a op\xE7\xE3o de recupera\xE7\xE3o de senha ainda est\xE1 em desenvolvimento. ",-1),Ne={__name:"RegisterPage",setup(e){const f=$(),m=Y(),{showSuccessNotification:v,showErrorNotification:b}=ue(),a=_({type:"",firstName:"",lastName:"",email:"",bornDate:null,username:"",password:"",confirmPassword:""}),s=_(!1),g=[u=>u&&u.length>0||"\xC9 necess\xE1rio informar um nome."],q=[u=>u&&u.length>0||"\xC9 necess\xE1rio informar um e-mail.",u=>/^\S+@\S+\.\S+$/.test(u)||"\xC9 necess\xE1rio informar um e-mail v\xE1lido."],i=[u=>u&&u.length>0||"\xC9 necess\xE1rio informar um nome de usu\xE1rio."];function C(){return a.value.type.trim()===""?(b("Por favor, selecione um tipo para criar o usu\xE1rio."),!1):!0}const h=()=>{C()&&(s.value=!0)},y=async()=>{try{const u=await m.register(a.value);v(u.message),f.push("/login")}catch(u){b(u.message)}finally{s.value&&(s.value=!1)}};return(u,o)=>(F(),O(te,{class:"padding"},{default:r(()=>[l(P,{class:"q-pa-md"},{default:r(()=>[l(x,null,{default:r(()=>[l(oe,{onSubmit:K(h,["prevent","stop"])},{default:r(()=>[V("div",de,[l(R,{modelValue:a.value.type,"onUpdate:modelValue":o[0]||(o[0]=t=>a.value.type=t),val:"Educador",label:"Educador",class:"q-mb-md"},null,8,["modelValue"]),l(R,{modelValue:a.value.type,"onUpdate:modelValue":o[1]||(o[1]=t=>a.value.type=t),val:"Aprendiz",label:"Aprendiz",class:"q-mb-md"},null,8,["modelValue"])]),l(p,{modelValue:a.value.firstName,"onUpdate:modelValue":o[2]||(o[2]=t=>a.value.firstName=t),label:"Nome *",rounded:"",outlined:"",class:"q-mb-md","lazy-rules":"",rules:g},null,8,["modelValue"]),l(p,{modelValue:a.value.lastName,"onUpdate:modelValue":o[3]||(o[3]=t=>a.value.lastName=t),label:"Sobrenome",rounded:"",outlined:"",class:"q-mb-md"},null,8,["modelValue"]),l(p,{modelValue:a.value.email,"onUpdate:modelValue":o[4]||(o[4]=t=>a.value.email=t),label:"E-mail *",rounded:"",outlined:"",class:"q-mb-md","lazy-rules":"",rules:q},null,8,["modelValue"]),l(p,{modelValue:a.value.bornDate,"onUpdate:modelValue":o[6]||(o[6]=t=>a.value.bornDate=t),label:"Data nascimento",rounded:"",outlined:"",class:"q-mb-md",mask:"##/##/####"},{append:r(()=>[l(U,{name:"event",class:"cursor-pointer"},{default:r(()=>[l(J,null,{default:r(()=>[l(Z,{modelValue:a.value.bornDate,"onUpdate:modelValue":o[5]||(o[5]=t=>a.value.bornDate=t),mask:"DD/MM/YYYY"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(p,{modelValue:a.value.username,"onUpdate:modelValue":o[7]||(o[7]=t=>a.value.username=t),label:"Nome de usu\xE1rio *",rounded:"",outlined:"",class:"q-mb-md","lazy-rules":"",rules:i},null,8,["modelValue"]),l(ee,{modelValue:a.value,"onUpdate:modelValue":o[8]||(o[8]=t=>a.value=t)},null,8,["modelValue"]),V("div",me,[l(k,{label:"Cancelar",to:"/",rounded:"",color:"secondary"}),l(k,{label:"Criar conta",type:"submit",rounded:"",class:"q-ml-sm",color:"primary"})]),l(le,{modelValue:s.value,"onUpdate:modelValue":o[9]||(o[9]=t=>s.value=t)},{default:r(()=>[l(P,null,{default:r(()=>[l(x,null,{default:r(()=>[ce]),_:1}),l(x,{class:"q-pt-none"},{default:r(()=>[fe,ve]),_:1}),l(ae,{align:"right"},{default:r(()=>[L(l(k,{flat:"",label:"Cancelar",color:"primary"},null,512),[[ne]]),l(k,{flat:"",label:"Confirmar",color:"primary",onClick:y})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}))}};export{Ne as default};
