import{W as A,r as m,o as I,k as n,l as g,m as a,n as r,f as e,Q as c,aL as S,af as h,U as v,aF as N,F as B,V as y,aK as H,t as b,p as P,q as U}from"./index.b90dc419.js";import{Q as x,a as u}from"./QCard.8ff134fc.js";import{Q as $}from"./QInput.f9cb256d.js";import{Q as D}from"./QCardActions.50cdb273.js";import{Q as E}from"./QDialog.6a84ced5.js";import{Q as F}from"./QSeparator.98df0158.js";import{Q as K}from"./QImg.99b6bf50.js";import{Q as L}from"./QPage.b0102dd6.js";import{C as Q}from"./ClosePopup.f1231dba.js";import{a as z,b as M}from"./userService.27131ca3.js";import{H as w}from"./loaderUtils.7b0c0db7.js";import{u as j}from"./notificationUtils.eeb71a00.js";import{_ as R}from"./plugin-vue_export-helper.21dcd24c.js";import"./use-dark.60659529.js";import"./focus-manager.40072c15.js";import"./private.use-form.b3e06a09.js";import"./use-timeout.f6efbb15.js";import"./focusout.d0634f6a.js";const q=l=>(P("data-v-50bb77a2"),l=l(),U(),l),T={class:"row items-center justify-between q-mt-md q-mb-md q-mx-md"},W=q(()=>r("div",{class:"text-h5"},"Meus \xE1lbums",-1)),G=q(()=>r("div",{class:"text-h6 text-primary"}," C\xF3digo do \xE1lbum compartilhado ",-1)),J={class:"row q-gutter-md section-card",flat:"",bordered:""},O={class:"q-pa-md flex flex-center full-width full-height"},X={key:0,class:"q-pa-md flex flex-center full-width full-height"},Y={class:"text-h5 q-mt-sm q-mb-xs"},Z={class:"text-subtitle1 q-mb-sm"},ee={__name:"HomePage",setup(l){const p=A(),{showErrorNotification:f}=j(),_=m({}),i=m(!1),d=m("");I(()=>{C()});const C=async()=>{try{w.show("Aguarde... Estamos carregando seus \xE1lbuns...");const{items:s}=await z();_.value=s}catch(s){f(s.message)}finally{w.hide()}},k=async()=>{try{await M(d.value)&&p.go()}catch(s){f(s.message)}},V=async(s,o)=>{p.push(`album/${s}/${o}`)};return(s,o)=>(n(),g(L,{class:"q-pa-lg"},{default:a(()=>[r("div",T,[W,r("div",null,[e(c,{rounded:"",label:"Novo",color:"primary",icon:"library_add",class:"button",onClick:o[0]||(o[0]=t=>i.value=!0)}),e(E,{modelValue:i.value,"onUpdate:modelValue":o[3]||(o[3]=t=>i.value=t),persistent:""},{default:a(()=>[e(x,{style:{"min-width":"350px"}},{default:a(()=>[e(u,null,{default:a(()=>[G]),_:1}),e(u,{class:"q-pt-none"},{default:a(()=>[e($,{dense:"",modelValue:d.value,"onUpdate:modelValue":o[1]||(o[1]=t=>d.value=t),autofocus:"",onKeyup:o[2]||(o[2]=S(t=>i.value=!1,["enter"]))},null,8,["modelValue"])]),_:1}),e(D,{align:"right",class:"text-primary"},{default:a(()=>[h(e(c,{flat:"",label:"Cancelar"},null,512),[[Q]]),h(e(c,{flat:"",label:"Adicionar \xE1lbum!",onClick:k},null,512),[[Q]])]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),e(F,{class:"q-my-md q-mx-md"}),r("div",J,[(n(!0),v(B,null,N(_.value,t=>(n(),g(x,{key:t.id,class:"col-12 col-md-2 rounded-card",flat:"",bordered:"",onClick:te=>V(t.id,t.title)},{default:a(()=>[e(K,{src:t.imageUrl},{error:a(()=>[r("div",O,[e(y,{name:"warning",size:"64px",color:"grey-4"})])]),default:a(()=>[t.imageUrl?H("",!0):(n(),v("div",X,[e(y,{name:"no_photography",size:"64px",color:"grey-4"})]))]),_:2},1032,["src"]),e(u,null,{default:a(()=>[r("div",Y,b(t.title),1),r("div",Z,b(t.description),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))])]),_:1}))}};var be=R(ee,[["__scopeId","data-v-50bb77a2"]]);export{be as default};
