import{v as M,c as w,h as G,D as J,W as O,r as u,o as X,k as m,U as x,f as e,m as a,F as V,n as s,Q as p,aF as Y,t as i,af as Z,V as _,l as A,R as h,aK as N,p as ee,q as te}from"./index.f6f9de23.js";import{Q as ae}from"./QSeparator.cc1e6d75.js";import{Q as T,a as f}from"./QCard.8843ea6f.js";import{Q as B}from"./QImg.719203e1.js";import{Q as oe,a as F,b as g}from"./QList.10ad50b1.js";import{Q as le}from"./QPage.db8cf4c8.js";import{Q as se}from"./QCardActions.91730c4a.js";import{Q as L}from"./QDialog.7ed19c9a.js";import{C as re}from"./ClosePopup.5f5aaad3.js";import{g as ie,u as R}from"./userService.c104b95c.js";import{g as ne}from"./routeHelpers.b0f727b5.js";import{H as P}from"./loaderUtils.3d9d025b.js";import{u as ce}from"./notificationUtils.9118f924.js";import{_ as ue}from"./plugin-vue_export-helper.21dcd24c.js";import"./use-dark.101dc898.js";import"./use-timeout.217898b4.js";import"./focusout.2ff2abc3.js";import"./focus-manager.40072c15.js";var Q=M({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(r,{slots:b}){const n=w(()=>parseInt(r.lines,10)),y=w(()=>"q-item__label"+(r.overline===!0?" q-item__label--overline text-overline":"")+(r.caption===!0?" q-item__label--caption text-caption":"")+(r.header===!0?" q-item__label--header":"")+(n.value===1?" ellipsis":"")),c=w(()=>r.lines!==void 0&&n.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":n.value}:null);return()=>G("div",{style:c.value,class:y.value},J(b.default))}});const de=r=>(ee("data-v-33d6af2e"),r=r(),te(),r),me={class:"row items-center justify-between q-mt-md q-mb-md q-mx-md"},pe=de(()=>s("div",{class:"text-h5"},"Corre\xE7\xF5es",-1)),fe={class:"row q-gutter-md section-card",flat:"",bordered:""},ve={class:"text-h5 q-mt-sm q-mb-xs"},_e={class:"text-h6 q-mt-sm q-mb-xs"},he={class:"text-caption"},ge={key:0},be={class:"q-pa-md flex flex-center full-width full-height"},ye={class:"row q-gutter-sm"},ke={class:"text-h6"},U=30,Se={__name:"StickerCorrectionPage",setup(r){const b=O(),{showSuccessNotification:n,showErrorNotification:y}=ce(),c=u({}),v=u(!1),D=u(!1);X(()=>{H()});const $=()=>{b.push(ne("inicio"))},H=async()=>{try{P.show("Aguarde... Carregando...");const o=await ie();o&&(c.value=o.data)}catch(o){y(o.message)}finally{P.hide()}},k=u(!1),q=u(""),I=u(""),S=o=>o.length>U,j=o=>S(o)?o.substring(0,U):o,E=(o,l)=>{q.value=o,I.value=l,k.value=!0},W=async(o,l)=>{const t="Aprovada";await R(o,t)&&(n("Voc\xEA aprovou a figurinha!"),c.value[l].status=t)},z=async(o,l)=>{const t="Reprovada";await R(o,t)&&(n("Voc\xEA reprovou a figurinha!"),c.value[l].status=t)},K=o=>{D.value=o,v.value=!0};return(o,l)=>(m(),x(V,null,[e(le,{class:"q-pa-lg"},{default:a(()=>[s("div",me,[pe,s("div",null,[e(p,{rounded:"",color:"primary",class:"button",icon:"home",label:"In\xEDcio",onClick:$})])]),e(ae,{class:"q-my-md q-mx-md"}),s("div",fe,[(m(!0),x(V,null,Y(c.value,(t,d)=>(m(),A(T,{key:d,class:"col-12 col-md-2 rounded-card",flat:"",bordered:""},{default:a(()=>[e(f,null,{default:a(()=>[s("div",ve,i(t.albumTitle),1),s("div",_e,i(t.stickerTitle),1),s("div",he,[h(i(j(t.stickerDescription))+" ",1),S(t.stickerDescription)?(m(),x("span",ge,"...")):N("",!0),S(t.stickerDescription)?(m(),A(p,{key:1,flat:"",dense:"",color:"primary",class:"text-caption",label:"Ver mais",onClick:C=>E(t.stickerDescription,t.stickerTitle)},null,8,["onClick"])):N("",!0)])]),_:2},1024),e(f,{style:{height:"380px",display:"flex","align-items":"center","justify-content":"center"}},{default:a(()=>[e(B,{src:t.imageUrl,style:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain"},onClick:C=>K(t.imageUrl)},{error:a(()=>[s("div",be,[e(_,{name:"camera",color:"grey-4"})])]),_:2},1032,["src","onClick"])]),_:2},1024),e(oe,null,{default:a(()=>[e(F,null,{default:a(()=>[e(g,{avatar:""},{default:a(()=>[e(_,{color:"grey",name:"person"})]),_:1}),e(g,null,{default:a(()=>[e(Q,{style:{"font-weight":"bold"}},{default:a(()=>[h(i(t.userFirstName),1)]),_:2},1024),e(Q,{caption:""},{default:a(()=>[h("("+i(t.userName)+")",1)]),_:2},1024)]),_:2},1024)]),_:2},1024),e(F,null,{default:a(()=>[e(g,{avatar:""},{default:a(()=>[e(_,{color:"grey",name:"rule"})]),_:1}),e(g,null,{default:a(()=>[e(Q,{style:{"font-weight":"bold"}},{default:a(()=>[h(i(t.status),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024),e(f,null,{default:a(()=>[s("div",ye,[e(p,{class:"col",rounded:"",color:"primary",label:"Aprovar",icon:"check",disable:t.status==="Aprovada",onClick:C=>W(t.userStickerId,d)},null,8,["disable","onClick"]),e(p,{class:"col",rounded:"",color:"negative",label:"Reprovar",icon:"close",disable:t.status==="Reprovada",onClick:C=>z(t.userStickerId,d)},null,8,["disable","onClick"])])]),_:2},1024)]),_:2},1024))),128))])]),_:1}),e(L,{modelValue:k.value,"onUpdate:modelValue":l[0]||(l[0]=t=>k.value=t),persistent:""},{default:a(()=>[e(T,null,{default:a(()=>[e(f,null,{default:a(()=>[s("div",ke,i(I.value),1)]),_:1}),e(f,null,{default:a(()=>[s("div",null,i(q.value),1)]),_:1}),e(se,{align:"right"},{default:a(()=>[Z(e(p,{flat:"",label:"Fechar",color:"primary"},null,512),[[re]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(L,{modelValue:v.value,"onUpdate:modelValue":l[2]||(l[2]=t=>v.value=t)},{default:a(()=>[e(B,{src:D.value,style:{width:"100%",height:"auto"}},null,8,["src"]),e(_,{name:"close",size:"md",color:"white",class:"dialog-close-icon",onClick:l[1]||(l[1]=t=>v.value=!1)})]),_:1},8,["modelValue"])],64))}};var He=ue(Se,[["__scopeId","data-v-33d6af2e"]]);export{He as default};
